{"ast":null,"code":"var _jsxFileName = \"/Users/samirsilva/org-chart/src/sunburst/sunburst.component.jsx\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport \"./sunburst.styles.scss\";\n\nclass Chart extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    var width = 100,\n        height = 100,\n        // % of the parent element\n    x = d3.scaleLinear().domain([0, width]).range([0, width]),\n        y = d3.scaleLinear().domain([0, height]).range([0, height]),\n        colors = [\"#1b9e77\", \"#d95f02\", \"#7570b3\", \"#e7298a\", \"#66a61e\", \"#e6ab02\", \"#a6761d\", \"#666666\"],\n        color = d3.scaleOrdinal().range(colors.map(function (c) {\n      c = d3.rgb(c); //c.opacity = 0.5;\n\n      return c;\n    })),\n        treemap = d3.treemap().size([width, height]) //.tile(d3.treemapResquarify) // doesn't work - height & width is 100%\n    .paddingInner(0).round(false),\n        //true\n    data = {\n      name: \"Atores do Semiárido\",\n      id: \"Atores do Semiárido\",\n      color: \"#ffffff\",\n      children: [{\n        name: \"Instituição de Ensino Superior\",\n        id: \"Instituição de Ensino Superior\",\n        color: \"#D95F03\",\n        children: [{\n          name: \"Institutos Federais\",\n          id: \"IF\",\n          color: \"#A6761D\",\n          value: 100\n        }, {\n          name: \"Universidades Federais\",\n          id: \"UF\",\n          color: \"#666666\",\n          value: 100\n        }, {\n          name: \"Universidades Estaduais\",\n          id: \"UE\",\n          color: \"#249E77\",\n          value: 100\n        }, {\n          name: \"Universidades Privadas\",\n          id: \"Privada\",\n          color: \"#D95F03\",\n          value: 100\n        }]\n      }, {\n        name: \"Institutos de Pesquisa\",\n        id: \"Institutos de Pesquisa\",\n        color: \"#7570B3\",\n        children: [{\n          name: \"Governamental\",\n          id: \"Governamental\",\n          color: \"#66A61D\",\n          value: 200\n        }, {\n          name: \"Privado\",\n          id: \"Privada\",\n          color: \"#7570B3\",\n          value: 400\n        }]\n      }, {\n        name: \"Orgão de fomento\",\n        id: \"Orgão de fomento\",\n        color: \"#E7298A\",\n        children: [{\n          name: \"Nacional\",\n          id: \"Nacional\",\n          color: \"#E7298A\",\n          value: 100\n        }, {\n          name: \"Internacional\",\n          id: \"Internacional\",\n          color: \"#66A61D\",\n          value: 100\n        }]\n      }, {\n        name: \"Governamental\",\n        id: \"Governamental\",\n        color: \"#66A61D\",\n        children: [{\n          name: \"Estadual\",\n          id: \"Estadual\",\n          color: \"#E6AB01\",\n          value: 100\n        }, {\n          name: \"Nacional\",\n          id: \"Nacional\",\n          color: \"#E7298A\",\n          value: 100\n        }]\n      }, {\n        name: \"Organizações da Sociedade Civil\",\n        id: \"OSC\",\n        color: \"#E6AB01\",\n        children: [{\n          name: \"Atividades de associações de defesa de direitos sociais\",\n          id: \"Atividades de associações de defesa de direitos sociais\",\n          color: \"#A6761D\",\n          value: 100\n        }, {}]\n      }]\n    },\n        nodes = d3.hierarchy(data).sum(function (d) {\n      return d.value ? 1 : 0;\n    }),\n        //.sort(function(a, b) { return b.height - a.height || b.value - a.value });\n    currentDepth;\n    treemap(nodes);\n    var chart = d3.select(\"#chart\");\n    var cells = chart.selectAll(\".node\").data(nodes.descendants()).enter().append(\"div\").attr(\"class\", function (d) {\n      return \"node level-\" + d.depth;\n    }).attr(\"title\", function (d) {\n      return d.data.name ? d.data.name : \"null\";\n    });\n    cells.style(\"left\", function (d) {\n      return x(d.x0) + \"%\";\n    }).style(\"top\", function (d) {\n      return y(d.y0) + \"%\";\n    }).style(\"width\", function (d) {\n      return x(d.x1) - x(d.x0) + \"%\";\n    }).style(\"height\", function (d) {\n      return y(d.y1) - y(d.y0) + \"%\";\n    }) //.style(\"background-image\", function(d) { return d.value ? imgUrl + d.value : \"\"; })\n    //.style(\"background-image\", function(d) { return d.value ? \"url(http://placekitten.com/g/300/300)\" : \"none\"; })\n    .style(\"background-color\", function (d) {\n      return d.data.color;\n    }).on(\"click\", zoom).append(\"p\").attr(\"class\", \"label\").text(function (d) {\n      return d.data.name ? d.data.name : \"---\";\n    }); //.style(\"font-size\", \"\")\n    //.style(\"opacity\", function(d) { return isOverflowed( d.parent ) ? 1 : 0; });\n\n    var parent = d3.select(\".up\").datum(nodes).on(\"click\", zoom);\n\n    function zoom(d) {\n      // http://jsfiddle.net/ramnathv/amszcymq/\n      d3.select(\".up\").datum(nodes).style(\"background-color\", function () {\n        return d.data.children ? d.data.color : d.parent.data.color;\n      }).style(\"color\", function () {\n        return d.depth > 0 ? \"white\" : \"gray\";\n      }).style(\"border\", function () {\n        return d.depth > 0 ? \"none\" : \"1px solid gray\";\n      }).text(d.data.children ? d.data.name : d.parent.data.name);\n      currentDepth = d.depth;\n      parent.datum(d.parent || nodes);\n      x.domain([d.x0, d.x1]);\n      y.domain([d.y0, d.y1]); // var t = d3.transition()\n      //   \t.duration(800)\n      //   \t.ease(d3.easeCubicOut);\n\n      cells // .transition()           // apply a transition\n      .style(\"left\", function (d) {\n        return x(d.x0) + \"%\";\n      }).style(\"top\", function (d) {\n        return y(d.y0) + \"%\";\n      }).style(\"width\", function (d) {\n        return x(d.x1) - x(d.x0) + \"%\";\n      }).style(\"height\", function (d) {\n        return y(d.y1) - y(d.y0) + \"%\";\n      });\n      cells // hide this depth and above\n      .filter(function (d) {\n        return d.ancestors();\n      }).classed(\"hide\", function (d) {\n        return d.children ? true : false;\n      });\n      cells // show this depth + 1 and below\n      .filter(function (d) {\n        return d.depth > currentDepth;\n      }).classed(\"hide\", false);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sunburst-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 6\n      }\n    }, \"Atores do Semi\\xE1rido\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feature\",\n      id: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default Chart;","map":{"version":3,"sources":["/Users/samirsilva/org-chart/src/sunburst/sunburst.component.jsx"],"names":["React","Component","d3","Chart","constructor","state","componentDidMount","width","height","x","scaleLinear","domain","range","y","colors","color","scaleOrdinal","map","c","rgb","treemap","size","paddingInner","round","data","name","id","children","value","nodes","hierarchy","sum","d","currentDepth","chart","select","cells","selectAll","descendants","enter","append","attr","depth","style","x0","y0","x1","y1","on","zoom","text","parent","datum","filter","ancestors","classed","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nimport \"./sunburst.styles.scss\";\n\nclass Chart extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount() {\n\t\tvar width = 100,\n\t\t\theight = 100, // % of the parent element\n\t\t\tx = d3\n\t\t\t\t.scaleLinear()\n\t\t\t\t.domain([0, width])\n\t\t\t\t.range([0, width]),\n\t\t\ty = d3\n\t\t\t\t.scaleLinear()\n\t\t\t\t.domain([0, height])\n\t\t\t\t.range([0, height]),\n\t\t\tcolors = [\n\t\t\t\t\"#1b9e77\",\n\t\t\t\t\"#d95f02\",\n\t\t\t\t\"#7570b3\",\n\t\t\t\t\"#e7298a\",\n\t\t\t\t\"#66a61e\",\n\t\t\t\t\"#e6ab02\",\n\t\t\t\t\"#a6761d\",\n\t\t\t\t\"#666666\",\n\t\t\t],\n\t\t\tcolor = d3.scaleOrdinal().range(\n\t\t\t\tcolors.map(function(c) {\n\t\t\t\t\tc = d3.rgb(c);\n\t\t\t\t\t//c.opacity = 0.5;\n\t\t\t\t\treturn c;\n\t\t\t\t}),\n\t\t\t),\n\t\t\ttreemap = d3\n\t\t\t\t.treemap()\n\t\t\t\t.size([width, height])\n\t\t\t\t//.tile(d3.treemapResquarify) // doesn't work - height & width is 100%\n\t\t\t\t.paddingInner(0)\n\t\t\t\t.round(false), //true\n\t\t\tdata = {\n\t\t\t\tname: \"Atores do Semiárido\",\n\t\t\t\tid: \"Atores do Semiárido\",\n\t\t\t\tcolor: \"#ffffff\",\n\t\t\t\tchildren: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"Instituição de Ensino Superior\",\n\t\t\t\t\t\tid: \"Instituição de Ensino Superior\",\n\t\t\t\t\t\tcolor: \"#D95F03\",\n\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Institutos Federais\",\n\t\t\t\t\t\t\t\tid: \"IF\",\n\t\t\t\t\t\t\t\tcolor: \"#A6761D\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Universidades Federais\",\n\t\t\t\t\t\t\t\tid: \"UF\",\n\t\t\t\t\t\t\t\tcolor: \"#666666\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Universidades Estaduais\",\n\t\t\t\t\t\t\t\tid: \"UE\",\n\t\t\t\t\t\t\t\tcolor: \"#249E77\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Universidades Privadas\",\n\t\t\t\t\t\t\t\tid: \"Privada\",\n\t\t\t\t\t\t\t\tcolor: \"#D95F03\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"Institutos de Pesquisa\",\n\t\t\t\t\t\tid: \"Institutos de Pesquisa\",\n\t\t\t\t\t\tcolor: \"#7570B3\",\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Governamental\",\n\t\t\t\t\t\t\t\tid: \"Governamental\",\n\t\t\t\t\t\t\t\tcolor: \"#66A61D\",\n\t\t\t\t\t\t\t\tvalue: 200,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Privado\",\n\t\t\t\t\t\t\t\tid: \"Privada\",\n\t\t\t\t\t\t\t\tcolor: \"#7570B3\",\n\t\t\t\t\t\t\t\tvalue: 400,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"Orgão de fomento\",\n\t\t\t\t\t\tid: \"Orgão de fomento\",\n\t\t\t\t\t\tcolor: \"#E7298A\",\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Nacional\",\n\t\t\t\t\t\t\t\tid: \"Nacional\",\n\t\t\t\t\t\t\t\tcolor: \"#E7298A\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Internacional\",\n\t\t\t\t\t\t\t\tid: \"Internacional\",\n\t\t\t\t\t\t\t\tcolor: \"#66A61D\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"Governamental\",\n\t\t\t\t\t\tid: \"Governamental\",\n\t\t\t\t\t\tcolor: \"#66A61D\",\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Estadual\",\n\t\t\t\t\t\t\t\tid: \"Estadual\",\n\t\t\t\t\t\t\t\tcolor: \"#E6AB01\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Nacional\",\n\t\t\t\t\t\t\t\tid: \"Nacional\",\n\t\t\t\t\t\t\t\tcolor: \"#E7298A\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"Organizações da Sociedade Civil\",\n\t\t\t\t\t\tid: \"OSC\",\n\t\t\t\t\t\tcolor: \"#E6AB01\",\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Atividades de associações de defesa de direitos sociais\",\n\t\t\t\t\t\t\t\tid: \"Atividades de associações de defesa de direitos sociais\",\n\t\t\t\t\t\t\t\tcolor: \"#A6761D\",\n\t\t\t\t\t\t\t\tvalue: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\tnodes = d3.hierarchy(data).sum(function(d) {\n\t\t\t\treturn d.value ? 1 : 0;\n\t\t\t}),\n\t\t\t//.sort(function(a, b) { return b.height - a.height || b.value - a.value });\n\n\t\t\tcurrentDepth;\n\n\t\ttreemap(nodes);\n\n\t\tvar chart = d3.select(\"#chart\");\n\t\tvar cells = chart\n\t\t\t.selectAll(\".node\")\n\t\t\t.data(nodes.descendants())\n\t\t\t.enter()\n\t\t\t.append(\"div\")\n\t\t\t.attr(\"class\", function(d) {\n\t\t\t\treturn \"node level-\" + d.depth;\n\t\t\t})\n\t\t\t.attr(\"title\", function(d) {\n\t\t\t\treturn d.data.name ? d.data.name : \"null\";\n\t\t\t});\n\n\t\tcells\n\t\t\t.style(\"left\", function(d) {\n\t\t\t\treturn x(d.x0) + \"%\";\n\t\t\t})\n\t\t\t.style(\"top\", function(d) {\n\t\t\t\treturn y(d.y0) + \"%\";\n\t\t\t})\n\t\t\t.style(\"width\", function(d) {\n\t\t\t\treturn x(d.x1) - x(d.x0) + \"%\";\n\t\t\t})\n\t\t\t.style(\"height\", function(d) {\n\t\t\t\treturn y(d.y1) - y(d.y0) + \"%\";\n\t\t\t})\n\t\t\t//.style(\"background-image\", function(d) { return d.value ? imgUrl + d.value : \"\"; })\n\t\t\t//.style(\"background-image\", function(d) { return d.value ? \"url(http://placekitten.com/g/300/300)\" : \"none\"; })\n\t\t\t.style(\"background-color\", function(d) {\n\t\t\t\treturn d.data.color;\n\t\t\t})\n\t\t\t.on(\"click\", zoom)\n\t\t\t.append(\"p\")\n\t\t\t.attr(\"class\", \"label\")\n\t\t\t.text(function(d) {\n\t\t\t\treturn d.data.name ? d.data.name : \"---\";\n\t\t\t});\n\t\t//.style(\"font-size\", \"\")\n\t\t//.style(\"opacity\", function(d) { return isOverflowed( d.parent ) ? 1 : 0; });\n\n\t\tvar parent = d3\n\t\t\t.select(\".up\")\n\t\t\t.datum(nodes)\n\t\t\t.on(\"click\", zoom);\n\n\t\tfunction zoom(d) {\n\t\t\t// http://jsfiddle.net/ramnathv/amszcymq/\n\n\t\t\td3.select(\".up\")\n\t\t\t\t.datum(nodes)\n\t\t\t\t.style(\"background-color\", function() {\n\t\t\t\t\treturn d.data.children ? d.data.color : d.parent.data.color;\n\t\t\t\t})\n\t\t\t\t.style(\"color\", function() {\n\t\t\t\t\treturn d.depth > 0 ? \"white\" : \"gray\";\n\t\t\t\t})\n\t\t\t\t.style(\"border\", function() {\n\t\t\t\t\treturn d.depth > 0 ? \"none\" : \"1px solid gray\";\n\t\t\t\t})\n\t\t\t\t.text(d.data.children ? d.data.name : d.parent.data.name);\n\n\t\t\tcurrentDepth = d.depth;\n\t\t\tparent.datum(d.parent || nodes);\n\n\t\t\tx.domain([d.x0, d.x1]);\n\t\t\ty.domain([d.y0, d.y1]);\n\n\t\t\t// var t = d3.transition()\n\t\t\t//   \t.duration(800)\n\t\t\t//   \t.ease(d3.easeCubicOut);\n\n\t\t\tcells\n\t\t\t\t// .transition()           // apply a transition\n\t\t\t\t.style(\"left\", function(d) {\n\t\t\t\t\treturn x(d.x0) + \"%\";\n\t\t\t\t})\n\t\t\t\t.style(\"top\", function(d) {\n\t\t\t\t\treturn y(d.y0) + \"%\";\n\t\t\t\t})\n\t\t\t\t.style(\"width\", function(d) {\n\t\t\t\t\treturn x(d.x1) - x(d.x0) + \"%\";\n\t\t\t\t})\n\t\t\t\t.style(\"height\", function(d) {\n\t\t\t\t\treturn y(d.y1) - y(d.y0) + \"%\";\n\t\t\t\t});\n\n\t\t\tcells // hide this depth and above\n\t\t\t\t.filter(function(d) {\n\t\t\t\t\treturn d.ancestors();\n\t\t\t\t})\n\t\t\t\t.classed(\"hide\", function(d) {\n\t\t\t\t\treturn d.children ? true : false;\n\t\t\t\t});\n\n\t\t\tcells // show this depth + 1 and below\n\t\t\t\t.filter(function(d) {\n\t\t\t\t\treturn d.depth > currentDepth;\n\t\t\t\t})\n\t\t\t\t.classed(\"hide\", false);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='sunburst-container'>\n\t\t\t\t<nav>\n\t\t\t\t\t<div className='up'>Atores do Semiárido</div>\n\t\t\t\t</nav>\n\t\t\t\t<div className='feature' id='chart'></div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}